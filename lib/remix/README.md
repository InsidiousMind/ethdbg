Taken and updated along with Remix

Remix TODO:
- convert remix code not in ES6 classes into ES6 classes
